# ğŸ“° NewsPage - áƒ¡áƒ áƒ£áƒšáƒ˜ áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ˜áƒ¡ áƒáƒœáƒáƒšáƒ˜áƒ–áƒ˜ áƒ“áƒ Database áƒ’áƒ”áƒ’áƒ›áƒ

## ğŸ¯ NEWSPAGE LAYOUT áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ

### **Grid Layout (12 columns, responsive)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NEWSPAGE - 10 POSITIONS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚         â”‚  â”‚                      â”‚  â”‚          â”‚                â”‚
â”‚  â”‚ POS 1   â”‚  â”‚      POSITION 3      â”‚  â”‚ POSITION â”‚                â”‚
â”‚  â”‚ Hero    â”‚  â”‚   Main Feature       â”‚  â”‚    5     â”‚                â”‚
â”‚  â”‚ Slider  â”‚  â”‚   Fade Slider        â”‚  â”‚  News    â”‚                â”‚
â”‚  â”‚         â”‚  â”‚                      â”‚  â”‚  Ticker  â”‚                â”‚
â”‚  â”‚ 3 rows  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚          â”‚                â”‚
â”‚  â”‚         â”‚  â”‚ POS 4 â”‚ POS 6â”‚ POS 7â”‚  â”‚  2 rows  â”‚                â”‚
â”‚  â”‚ lg:3    â”‚  â”‚ Stats â”‚ Categâ”‚ Link â”‚  â”‚          â”‚                â”‚
â”‚  â”‚ cols    â”‚  â”‚       â”‚      â”‚      â”‚  â”‚  lg:3    â”‚                â”‚
â”‚  â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  cols    â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  POS 2      â”‚     POSITION 9      â”‚    POSITION 10         â”‚    â”‚
â”‚  â”‚ Vertical    â”‚  Horizontal News    â”‚  Featured Topics       â”‚    â”‚
â”‚  â”‚ News Feed   â”‚  Carousel           â”‚  (3D Coverflow)        â”‚    â”‚
â”‚  â”‚ (3 items)   â”‚  (Swiper slider)    â”‚  (Popular themes)      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚              ALL POSTS SECTION                             â”‚     â”‚
â”‚  â”‚  (áƒáƒ•áƒ¢áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ£áƒšáƒ˜ áƒáƒáƒ¡áƒ¢áƒ”áƒ‘áƒ˜ áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ¯áƒ”áƒ  áƒáƒ  áƒáƒ áƒ˜áƒ¡       â”‚     â”‚
â”‚  â”‚   SuperAdmin-áƒ˜áƒ¡ áƒ›áƒ˜áƒ”áƒ  áƒ›áƒ˜áƒœáƒ˜áƒ­áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒáƒáƒ–áƒ˜áƒªáƒ˜áƒáƒ–áƒ”)                â”‚     â”‚
â”‚  â”‚  â”œâ”€ Grid: 3 columns (md:2, mobile:1)                       â”‚     â”‚
â”‚  â”‚  â”œâ”€ Card format: Image + Title + Excerpt + Author          â”‚     â”‚
â”‚  â”‚  â”œâ”€ Status badges: Draft, Pending, Published               â”‚     â”‚
â”‚  â”‚  â””â”€ Load More button (6 items increment)                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š POSITION-áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒ˜ áƒáƒœáƒáƒšáƒ˜áƒ–áƒ˜

### **Position 1 - Hero Slider** (Left, 3 row span)
- **áƒ¢áƒ˜áƒáƒ˜:** Swiper Slider (Autoplay + Pagination)
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** 3 slides (background gradient + title + subtitle)
- **áƒ–áƒáƒ›áƒ:** lg:col-span-3, lg:row-span-3, h-[580px]
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Autoplay: 5000ms
  - Loop: true
  - Pagination bullets
  - Gradient overlay
  - CTA button: "áƒ•áƒ áƒªáƒšáƒáƒ“"
- **Database:** `display_position = 1` â†’ áƒ›áƒ®áƒáƒšáƒáƒ“ 1 áƒáƒáƒ¡áƒ¢áƒ˜ áƒáƒœ slider_group = 1

---

### **Position 2 - Vertical News Feed** (Bottom left)
- **áƒ¢áƒ˜áƒáƒ˜:** Static list (3 items)
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** Small news cards (date + category + title)
- **áƒ–áƒáƒ›áƒ:** lg:col-span-4, h-[240px]
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Hover animation (border ring)
  - Arrow indicator on hover
  - Date + category badge
- **Database:** `display_position = 2` â†’ 1 áƒáƒáƒ¡áƒ¢áƒ˜ (áƒáƒœ 3 áƒ£áƒáƒ®áƒšáƒ”áƒ¡áƒ˜ áƒ˜áƒ›áƒáƒ•áƒ” position-áƒ˜áƒ¡)

---

### **Position 3 - Main Feature Slider** (Center, 2 row span)
- **áƒ¢áƒ˜áƒáƒ˜:** Swiper Fade Effect Slider
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** 3 featured items (icon + title + description + stats)
- **áƒ–áƒáƒ›áƒ:** lg:col-span-6, lg:row-span-2, h-[380px]
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Effect: fade crossFade
  - Autoplay: 6000ms
  - Progress indicators (3 lines)
  - CTA button: "áƒ’áƒáƒ”áƒªáƒáƒœáƒ˜"
  - Large icons (emoji)
- **Database:** `display_position = 3` â†’ slider_group = 3

---

### **Position 4 - Stats Card** (Below Position 3)
- **áƒ¢áƒ˜áƒáƒ˜:** Static info card
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** Icon + Big number + description
- **áƒ–áƒáƒ›áƒ:** lg:col-span-3, h-[190px]
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Centered content
  - Document icon
  - "2,450+ áƒ¡áƒáƒ›áƒáƒ áƒ—áƒšáƒ”áƒ‘áƒ áƒ˜áƒ•áƒ˜ áƒ“áƒáƒ™áƒ£áƒ›áƒ”áƒœáƒ¢áƒ˜"
  - "áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜áƒ áƒ“áƒ¦áƒ”áƒ¡"
- **Database:** `display_position = 4` â†’ 1 áƒáƒáƒ¡áƒ¢áƒ˜ (stats type)

---

### **Position 5 - News Ticker** (Right, 2 row span)
- **áƒ¢áƒ˜áƒáƒ˜:** Vertical Swiper Slider (Auto-scroll)
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** 4 updates (time + text)
- **áƒ–áƒáƒ›áƒ:** lg:col-span-3, lg:row-span-2, h-[380px]
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Direction: vertical
  - slidesPerView: 3
  - Autoplay: 3000ms
  - Animated pulse dot
  - "áƒáƒ®áƒáƒšáƒ˜ áƒáƒ›áƒ‘áƒ”áƒ‘áƒ˜" header
- **Database:** `display_position = 5` â†’ slider_group = 5 (multiple items)

---

### **Position 6 - Category Card** (Middle bottom)
- **áƒ¢áƒ˜áƒáƒ˜:** Hover card with gradient
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** Icon + Title + Description
- **áƒ–áƒáƒ›áƒ:** lg:col-span-3, h-[190px]
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Scale animation on hover
  - Gradient overlay
  - Icon scale on hover
  - Arrow indicator
  - "áƒáƒœáƒáƒšáƒ˜áƒ¢áƒ˜áƒ™áƒ" theme
- **Database:** `display_position = 6` â†’ 1 category card

---

### **Position 7 - Quick Link** (Right bottom)
- **áƒ¢áƒ˜áƒáƒ˜:** Simple centered card
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** Icon + Title + Description
- **áƒ–áƒáƒ›áƒ:** lg:col-span-3, h-[190px]
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Centered layout
  - Icon scale on hover
  - "áƒ‘áƒ˜áƒ‘áƒšáƒ˜áƒáƒ—áƒ”áƒ™áƒ" link
- **Database:** `display_position = 7` â†’ 1 quick link

---

### **Position 9 - Horizontal Carousel** (Bottom center)
- **áƒ¢áƒ˜áƒáƒ˜:** Swiper Horizontal Slider with Navigation
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** 4 articles (date + category + title + excerpt)
- **áƒ–áƒáƒ›áƒ:** lg:col-span-4, h-[335px]
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Navigation arrows (custom buttons)
  - Autoplay: 3500ms
  - "áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜" header
  - Live indicator (pulsing dot)
  - CTA: "áƒ¬áƒáƒ˜áƒ™áƒ˜áƒ—áƒ®áƒ”"
- **Database:** `display_position = 9` â†’ slider_group = 9 (multiple posts)

---

### **Position 10 - Featured Topics** (Bottom right)
- **áƒ¢áƒ˜áƒáƒ˜:** 3D Coverflow Effect Slider
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** 4 topics (icon emoji + title + count)
- **áƒ–áƒáƒ›áƒ:** lg:col-span-4, h-[335px]
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Effect: coverflow (3D depth)
  - centeredSlides: true
  - slidesPerView: 1.5
  - Autoplay: 3000ms
  - "áƒáƒáƒáƒ£áƒšáƒáƒ áƒ£áƒšáƒ˜ áƒ—áƒ”áƒ›áƒ”áƒ‘áƒ˜" header
  - Document count badge
- **Database:** `display_position = 10` â†’ topics/categories

---

### **AllPostsSection** (áƒ¥áƒ•áƒ”áƒ›áƒáƒ— grid view)
- **áƒ¢áƒ˜áƒáƒ˜:** Grid of all unpublished/unassigned posts
- **áƒ™áƒáƒœáƒ¢áƒ”áƒœáƒ¢áƒ˜:** Author-uploaded posts without position
- **áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
  - Grid: 3 cols (lg), 2 cols (md), 1 col (mobile)
  - Image placeholder
  - Status badges: Draft, Pending, Published
  - Date + Category
  - Author avatar/name
  - Load More: +6 items
- **Database:** `WHERE display_position IS NULL OR status != 'published'`

---

## ğŸ—„ï¸ DATABASE SCHEMA

### **1. Main Posts Table**

```sql
CREATE TABLE posts (
  -- Primary Key
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  
  -- Author/Practice Reference
  author_id UUID REFERENCES profiles(id) ON DELETE SET NULL,
  practice_id UUID REFERENCES practices(id) ON DELETE SET NULL,
  
  -- Display Position (1-10 for NewsPage featured positions)
  display_position INTEGER NULL CHECK (display_position BETWEEN 1 AND 10),
  position_order INTEGER DEFAULT 0, -- Order within same position (for sliders)
  
  -- Status
  status TEXT DEFAULT 'draft' CHECK (status IN ('draft', 'pending', 'published', 'archived')),
  
  -- Images (language-independent)
  featured_image_url TEXT,
  
  -- Publication Dates
  published_at TIMESTAMPTZ NULL,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  
  -- Unique constraint: Only one post per position (if not slider)
  CONSTRAINT unique_single_position 
    UNIQUE (display_position) 
    WHERE display_position IN (1, 2, 4, 6, 7) AND status = 'published'
  
  -- Multiple posts allowed for slider positions: 3, 5, 9, 10
);

-- Comments
COMMENT ON TABLE posts IS 'Main posts table - news articles and updates';
COMMENT ON COLUMN posts.display_position IS '1-10 for NewsPage positions, NULL for AllPostsSection';
COMMENT ON COLUMN posts.position_order IS 'Order within slider (Position 3, 5, 9, 10)';
COMMENT ON COLUMN posts.status IS 'draft (author), pending (review), published (live), archived';
```

---

### **2. Post Translations Table**

```sql
CREATE TABLE post_translations (
  -- Primary Key
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  
  -- Foreign Key
  post_id UUID NOT NULL REFERENCES posts(id) ON DELETE CASCADE,
  
  -- Language
  language TEXT NOT NULL CHECK (language IN ('ka', 'en', 'ru')),
  
  -- Content Fields
  title TEXT NOT NULL,
  excerpt TEXT,
  content TEXT, -- HTML from RichTextEditor
  
  -- Category
  category TEXT,
  
  -- SEO Fields
  slug TEXT NOT NULL,
  meta_title TEXT,
  meta_description TEXT,
  keywords TEXT,
  
  -- Social Media (Open Graph)
  og_title TEXT,
  og_description TEXT,
  og_image TEXT,
  
  -- Reading Stats
  word_count INTEGER DEFAULT 0,
  reading_time INTEGER DEFAULT 0, -- minutes
  
  -- Timestamps
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  
  -- Constraints
  UNIQUE(post_id, language), -- One translation per language per post
  UNIQUE(slug, language) -- Unique slug per language
);

-- Comments
COMMENT ON TABLE post_translations IS 'Translations for posts - 3 rows per post (ka, en, ru)';
COMMENT ON COLUMN post_translations.language IS 'Language code: ka (Georgian), en (English), ru (Russian)';
COMMENT ON COLUMN post_translations.slug IS 'URL-friendly slug - unique per language';
COMMENT ON COLUMN post_translations.content IS 'HTML content from RichTextEditor (Tiptap)';
COMMENT ON COLUMN post_translations.word_count IS 'Number of words (for reading stats)';
COMMENT ON COLUMN post_translations.reading_time IS 'Estimated reading time in minutes';
```

---

### **3. Categories Table (Optional - for structured categories)**

```sql
CREATE TABLE post_categories (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  parent_id UUID REFERENCES post_categories(id) ON DELETE CASCADE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE post_category_translations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  category_id UUID NOT NULL REFERENCES post_categories(id) ON DELETE CASCADE,
  language TEXT NOT NULL CHECK (language IN ('ka', 'en', 'ru')),
  name TEXT NOT NULL,
  slug TEXT NOT NULL,
  description TEXT,
  
  UNIQUE(category_id, language),
  UNIQUE(slug, language)
);
```

---

### **4. Storage Bucket - Post Images**

```sql
-- Insert bucket for post images
INSERT INTO storage.buckets (id, name, public, file_size_limit, allowed_mime_types)
VALUES (
  'post-images',
  'post-images',
  true,
  5242880, -- 5MB
  ARRAY['image/jpeg', 'image/jpg', 'image/png', 'image/webp']
)
ON CONFLICT (id) DO NOTHING;
```

---

## ğŸ”„ POSITION LOGIC

### **Single Position (1, 2, 4, 6, 7)**
- áƒ›áƒ®áƒáƒšáƒáƒ“ 1 áƒáƒáƒ¡áƒ¢áƒ˜ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡ áƒ›áƒ˜áƒœáƒ˜áƒ­áƒ”áƒ‘áƒ£áƒšáƒ˜
- UNIQUE constraint áƒ–áƒ áƒ£áƒœáƒáƒ•áƒ¡
- áƒ—áƒ£ SuperAdmin-áƒ›áƒ áƒáƒ®áƒáƒšáƒ˜ áƒáƒáƒ¡áƒ¢áƒ˜ áƒ“áƒáƒáƒ¡áƒ•áƒ â†’ áƒ«áƒ•áƒ”áƒšáƒ˜ áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒáƒ“ NULL-áƒ¨áƒ˜ áƒ’áƒáƒ“áƒáƒ“áƒ˜áƒ¡

### **Slider Positions (3, 5, 9, 10)**
- áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒáƒáƒ¡áƒ¢áƒ˜ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡
- `position_order` áƒ’áƒáƒœáƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒáƒ•áƒ¡ áƒ áƒ˜áƒ’áƒ˜áƒ—áƒáƒ‘áƒáƒ¡ slider-áƒ¨áƒ˜
- Query: `WHERE display_position = 3 ORDER BY position_order ASC`

### **AllPostsSection**
- `WHERE display_position IS NULL`
- áƒ§áƒ•áƒ”áƒšáƒ draft, pending, áƒ“áƒ unassigned published posts
- Grid view with Load More

---

## ğŸ“‹ INDEXES FOR PERFORMANCE

```sql
-- Position filtering
CREATE INDEX idx_posts_display_position ON posts(display_position) 
WHERE display_position IS NOT NULL;

-- Status filtering
CREATE INDEX idx_posts_status ON posts(status);

-- Published posts with position
CREATE INDEX idx_posts_published_positioned ON posts(display_position, position_order) 
WHERE status = 'published' AND display_position IS NOT NULL;

-- Translations by post
CREATE INDEX idx_post_translations_post_id ON post_translations(post_id);

-- Translations by language
CREATE INDEX idx_post_translations_language ON post_translations(language);

-- Slug lookups
CREATE INDEX idx_post_translations_slug_language ON post_translations(slug, language);

-- Author posts
CREATE INDEX idx_posts_author_id ON posts(author_id);
```

---

## ğŸ” ROW LEVEL SECURITY (RLS)

```sql
-- Enable RLS
ALTER TABLE posts ENABLE ROW LEVEL SECURITY;
ALTER TABLE post_translations ENABLE ROW LEVEL SECURITY;

-- Public read access for published posts
CREATE POLICY "Public read published posts"
ON posts FOR SELECT
USING (status = 'published');

-- Public read translations of published posts
CREATE POLICY "Public read published post translations"
ON post_translations FOR SELECT
USING (
  post_id IN (SELECT id FROM posts WHERE status = 'published')
);

-- Authenticated users can create posts
CREATE POLICY "Authenticated users create posts"
ON posts FOR INSERT
TO authenticated
WITH CHECK (auth.uid() = author_id);

-- Authors can update their own draft posts
CREATE POLICY "Authors update own draft posts"
ON posts FOR UPDATE
TO authenticated
USING (auth.uid() = author_id AND status = 'draft')
WITH CHECK (auth.uid() = author_id);

-- Super Admin full access
CREATE POLICY "Super Admin full access posts"
ON posts FOR ALL
TO authenticated
USING (
  EXISTS (
    SELECT 1 FROM profiles
    WHERE profiles.id = auth.uid()
    AND profiles.role = 'SUPER_ADMIN'
  )
);
```

---

## ğŸ¨ FRONTEND QUERIES

### **Position 1 - Hero Slider**
```typescript
const { data } = await supabase
  .from('posts')
  .select(`
    id,
    featured_image_url,
    post_translations!inner(title, excerpt, slug)
  `)
  .eq('display_position', 1)
  .eq('status', 'published')
  .eq('post_translations.language', 'ka')
  .order('position_order', { ascending: true })
  .limit(3)
```

### **Position 3 - Main Feature Slider**
```typescript
const { data } = await supabase
  .from('posts')
  .select(`
    id,
    post_translations!inner(title, content, slug)
  `)
  .eq('display_position', 3)
  .eq('status', 'published')
  .eq('post_translations.language', 'ka')
  .order('position_order', { ascending: true })
```

### **AllPostsSection - Unpublished/Unpositioned**
```typescript
const { data } = await supabase
  .from('posts')
  .select(`
    id,
    status,
    created_at,
    featured_image_url,
    author:profiles(full_name, avatar_url),
    post_translations!inner(title, excerpt, category, slug)
  `)
  .is('display_position', null)
  .eq('post_translations.language', 'ka')
  .order('created_at', { ascending: false })
  .range(0, 5) // First 6 items
```

---

## âœ… SUMMARY

### **Position Distribution:**
1. **Single Posts:** 1, 2, 4, 6, 7 (5 positions)
2. **Sliders:** 3, 5, 9, 10 (4 positions)
3. **Total:** 10 featured positions
4. **Overflow:** AllPostsSection (unlimited grid)

### **Database Tables:**
- âœ… `posts` - Main table (id, author, position, status, images)
- âœ… `post_translations` - 3 languages (ka, en, ru)
- âœ… `post_categories` + translations (optional)
- âœ… `post-images` Storage bucket

### **Next Steps:**
1. áƒ¨áƒ”áƒ•áƒ¥áƒ›áƒœáƒáƒ— migration áƒ¤áƒáƒ˜áƒšáƒ˜
2. áƒ“áƒáƒ•áƒáƒ›áƒáƒ¢áƒáƒ— Storage policies
3. áƒ’áƒáƒœáƒ•áƒáƒáƒ®áƒšáƒáƒ— Context (PostTranslationsContext) display_position-áƒ˜áƒ—
4. áƒ¨áƒ”áƒ•áƒ¥áƒ›áƒœáƒáƒ— SuperAdmin UI position selector-áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
5. Frontend queries integration

---

ğŸ¯ **áƒ›áƒ–áƒáƒ“ áƒ•áƒáƒ áƒ— áƒ›áƒ˜áƒ’áƒ áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ¥áƒ›áƒœáƒ”áƒšáƒáƒ“!**
